<%- include('blocks/header') %>
<main class="page landing-page">
    <section class="clean-block index" style="padding-bottom: 0;">
        <div id="fridayAlert" role="alert"></div>
        <div class="container">
            <div class="block-heading" style="padding-top: 30px;">
                <h2 class="text-info">Section <%= sections[section].label %></h2>
            </div>
        </div>
        <div class="container">
            <% if(section === "IG"){ %>
                <div class="block-heading" style="padding-top: 0px;">
                    <p>Pour les IG, c'est plus int√©ressant ! üòé <br>En effet, tu peux choisir uniquement les cours que
                        tu suis afin de g√©n√©rer un horaire personnalis√© ! </p>
                </div>
            <% } %>
            <div class="alert alert-info text-center" role="alert"><span><strong>Besoin d'aide ?&nbsp;</strong><br>Consulte la page <a
                            class="alert-link" href="/help"><em><span
                                    style="text-decoration: underline;">Help</span></em>
                            </a>&nbsp;!</span>
            </div>
        </div>
        <div class="container">
            <form id="genCalendar" method="post">
                <div role="tablist" id="accordion-1">
                    <% if(hasBloc1){ %>
                    <div class="card">
                        <div class="card-header" role="tab">
                            <h5 class="mb-0"><a data-toggle="collapse" aria-expanded="true"
                                                aria-controls="accordion-1 .item-1" href="#accordion-1 .item-1">Bloc
                                    1</a></h5>
                        </div>
                        <div class="collapse show item-1" role="tabpanel" data-parent="#accordion-1">
                            <div class="card-body">
                                <div class="form-group">
                                    <label>Groupe</label>
                                    <select class="form-control selectpicker" multiple="" title="S√©lection du groupe..."
                                            name="Classes">
                                        <% classes.filter(classe => classe.charAt(0) === '1').forEach(classe => { %>
                                        <option value="<%= classe %>">Groupe <%= classe.substring(1) %></option>
                                        <% }) %>
                                    </select>
                                </div>
                                <% if(section === 'IG'){ %>
                                    <div
                                            class="form-group"><label>Cours</label><select
                                                data-none-results-text="Aucun r√©sultat pour {0}"
                                                class="form-control selectpicker selectWithAllOption" multiple
                                                data-live-search="true" title="S√©lection des cours..." name="Courses">
                                            <option value="1">Tous</option>
                                            <% selectList[1].map(course=> { %>
                                                <option value="<%= course.value %>"> <%= course.text %> </option>
                                            <% }) %>
                                        </select>
                                    </div>
                                <% } %>
                            </div>
                        </div>
                    </div>
                    <% }
                    if(hasBloc2){ %>
                        <div class="card">
                            <div class="card-header" role="tab">
                                <h5 class="mb-0"><a data-toggle="collapse" aria-expanded="<%= !hasBloc1 %>"
                                                    aria-controls="accordion-1 .item-2" href="#accordion-1 .item-2">Bloc
                                        2</a></h5>
                            </div>
                            <div class="collapse <%= !hasBloc1 ? "show" : "" %> item-2" role="tabpanel"
                                 data-parent="#accordion-1">
                                <div class="card-body">
                                    <div class="form-group">
                                        <label>Groupe</label>
                                        <select class="form-control selectpicker" multiple=""
                                                title="S√©lection du groupe..." name="Classes">
                                            <% classes.filter(classe => classe.charAt(0) === '2').forEach(classe => { %>
                                            <option value="<%= classe %>">Groupe <%= classe.substring(1) %></option>
                                            <% }) %>
                                        </select>
                                    </div>
                                    <% if(section === 'IG'){ %>
                                        <div class="form-group"><label>Cours</label><select
                                                    data-none-results-text="Aucun r√©sultat pour {0}"
                                                    class="form-control selectpicker selectWithAllOption" multiple
                                                    data-live-search="true" title="S√©lection des cours..."
                                                    name="Courses">
                                                <option value="2">Tous</option>
                                                <% selectList[2].map(course=> { %>
                                                    <option value="<%= course.value %>"> <%= course.text %> </option>
                                                <% }) %>
                                            </select>
                                        </div>
                                        <div class="form-group"><label>Seconde langue</label></br>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" id="radioEN2" value="EN2"
                                                       name="SecondLanguage">
                                                <label class="form-check-label" for="radioEN2">Anglais
                                                    renforcement</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" id="radioALNL2"
                                                       value="ALNL2" name="SecondLanguage">
                                                <label class="form-check-label" for="radioALNL2">Allemand /
                                                    N√©erlandais</label>
                                            </div>
                                        </div>
                                    <% } %>
                                </div>
                            </div>
                        </div>
                    <% }
                    if(hasBloc3){ %>
                        <div class="card">
                            <div class="card-header" role="tab">
                                <h5 class="mb-0"><a data-toggle="collapse" aria-expanded="<%= !hasBloc3 %>"
                                                    aria-controls="accordion-1 .item-3" href="#accordion-1 .item-3">Bloc
                                        3</a></h5>
                            </div>
                            <div class="collapse <%= !hasBloc3 ? "show" : "" %> item-3" role="tabpanel"
                                 data-parent="#accordion-1">
                                <div class="card-body">
                                    <div class="form-group">
                                        <label>Groupe</label>
                                        <select class="form-control selectpicker" multiple=""
                                                title="S√©lection du groupe..." name="Classes">
                                            <% classes.filter(classe => classe.charAt(0) === '3').forEach(classe => { %>
                                            <option value="<%= classe %>">Groupe <%= classe.substring(1) %></option>
                                            <% }) %>
                                        </select>
                                    </div>
                                    <% if(section === 'IG'){ %>
                                        <div class="form-group"><label>Cours</label><select
                                                    data-none-results-text="Aucun r√©sultat pour {0}"
                                                    class="form-control selectpicker" multiple data-live-search="true"
                                                    title="S√©lection des cours..." name="Courses">
                                                <optgroup label="Tronc commun">
                                                    <% let i = 0;
                                                    selectList[3].forEach(course => { %>
                                                        <option value="<%= course.value %>"> <%= course.text %> </option>
                                                        <% i++;
                                                        if(i === 5){ %>
                                                </optgroup>
                                                <optgroup label="Option Mobile et Web avanc√©">
                                                    <% }
                                            if(i === 7){ %>
                                        </optgroup>
                                        <optgroup label="Option Data Intelligence">
                                            <% }
                                            if(i === 10){ %>
                                        </optgroup>
                                        <optgroup label="Stage et TFE">
                                            <% }}) %>
                                        </optgroup>
                                            </select>
                                        </div>
                                        <div class="form-group"><label>Seconde langue</label></br>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" id="radioEN3" value="EN3"
                                                       name="SecondLanguage">
                                                <label class="form-check-label" for="radioEN3">Anglais
                                                    renforcement</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" id="radioALNL3"
                                                       value="ALNL3" name="SecondLanguage">
                                                <label class="form-check-label" for="radioALNL3">Allemand /
                                                    N√©erlandais</label>
                                            </div>
                                        </div>
                                    <%}%>
                            </div>
                        </div>
                    </div>
                    <% } %>
                </div><button class="btn btn-primary float-right" type="submit" style="margin-top: 1%;margin-bottom: 1%;">G√©n√©rer le lien</button>
                <div class="d-table" style="width: 100%;"><input class="form-control d-table-cell" type="text" id="calendarURL" value="<%= calendarURL %>" readonly="" style="margin-top: 1%;margin-bottom: 2%;width: 100%;"><span class="d-table-cell" style="width: 38px;height: 38px;"><button class="btn btn-secondary clipboard" id="copyButton" style="width: 38px;height: 38px;" data-toggle="tooltip" title="Clique ici pour copier Gilles" data-placement="right" type="button" data-clipboard-target="#calendarURL"><i class="far fa-copy"></i></button></span></div>
            </form>
        </div>
    </section>
</main>
<%- include('blocks/footer') %>
